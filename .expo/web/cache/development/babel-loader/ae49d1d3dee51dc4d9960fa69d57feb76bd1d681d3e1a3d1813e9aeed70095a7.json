{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nvar _resolvePermissionAsync, _getPermissionsAsync, _requestPermissionsAsync;\nimport { PermissionStatus, Platform } from 'expo-modules-core';\nfunction convertPermissionStatus(status) {\n  switch (status) {\n    case 'granted':\n      return {\n        status: PermissionStatus.GRANTED,\n        expires: 'never',\n        canAskAgain: false,\n        granted: true\n      };\n    case 'denied':\n      return {\n        status: PermissionStatus.DENIED,\n        expires: 'never',\n        canAskAgain: false,\n        granted: false\n      };\n    default:\n      return {\n        status: PermissionStatus.UNDETERMINED,\n        expires: 'never',\n        canAskAgain: true,\n        granted: false\n      };\n  }\n}\nfunction resolvePermissionAsync(_x) {\n  return (_resolvePermissionAsync = _resolvePermissionAsync || _asyncToGenerator(function* (_ref) {\n    var _navigator, _navigator$permission;\n    var shouldAsk = _ref.shouldAsk;\n    if (!Platform.isDOMAvailable) {\n      return convertPermissionStatus('denied');\n    }\n    var _window = window,\n      _window$Notification = _window.Notification,\n      Notification = _window$Notification === void 0 ? {} : _window$Notification;\n    if (typeof Notification.requestPermission !== 'undefined') {\n      var status = Notification.permission;\n      if (shouldAsk) {\n        status = yield new Promise(function (resolve, reject) {\n          var _Notification$request, _Notification$request2;\n          var resolved = false;\n          function resolveOnce(status) {\n            if (!resolved) {\n              resolved = true;\n              resolve(status);\n            }\n          }\n          (_Notification$request = Notification.requestPermission(resolveOnce)) == null ? void 0 : (_Notification$request2 = _Notification$request.then(resolveOnce)) == null ? void 0 : _Notification$request2.catch(reject);\n        });\n      }\n      return convertPermissionStatus(status);\n    } else if (typeof navigator !== 'undefined' && (_navigator = navigator) != null && (_navigator$permission = _navigator.permissions) != null && _navigator$permission.query) {\n      var query = yield navigator.permissions.query({\n        name: 'notifications'\n      });\n      return convertPermissionStatus(query.state);\n    }\n    return convertPermissionStatus('denied');\n  })).apply(this, arguments);\n}\nexport default {\n  addListener: function addListener() {},\n  removeListeners: function removeListeners() {},\n  getPermissionsAsync: function getPermissionsAsync() {\n    return (_getPermissionsAsync = _getPermissionsAsync || _asyncToGenerator(function* () {\n      return resolvePermissionAsync({\n        shouldAsk: false\n      });\n    })).apply(this, arguments);\n  },\n  requestPermissionsAsync: function requestPermissionsAsync(_x2) {\n    return (_requestPermissionsAsync = _requestPermissionsAsync || _asyncToGenerator(function* (request) {\n      return resolvePermissionAsync({\n        shouldAsk: true\n      });\n    })).apply(this, arguments);\n  }\n};","map":{"version":3,"names":["PermissionStatus","Platform","convertPermissionStatus","status","GRANTED","expires","canAskAgain","granted","DENIED","UNDETERMINED","resolvePermissionAsync","_x","_resolvePermissionAsync","_asyncToGenerator","_ref","_navigator","_navigator$permission","shouldAsk","isDOMAvailable","_window","window","_window$Notification","Notification","requestPermission","permission","Promise","resolve","reject","_Notification$request","_Notification$request2","resolved","resolveOnce","then","catch","navigator","permissions","query","name","state","apply","arguments","addListener","removeListeners","getPermissionsAsync","_getPermissionsAsync","requestPermissionsAsync","_x2","_requestPermissionsAsync","request"],"sources":["/Users/syndell-068/Documents/GitHub/colorhunt-reactnative-frontend/node_modules/expo-notifications/src/NotificationPermissionsModule.ts"],"sourcesContent":["import { PermissionStatus, Platform } from 'expo-modules-core';\n\nimport {\n  NativeNotificationPermissionsRequest,\n  NotificationPermissionsStatus,\n} from './NotificationPermissions.types';\nimport { NotificationPermissionsModule } from './NotificationPermissionsModule.types';\n\nfunction convertPermissionStatus(\n  status?: NotificationPermission | 'prompt'\n): NotificationPermissionsStatus {\n  switch (status) {\n    case 'granted':\n      return {\n        status: PermissionStatus.GRANTED,\n        expires: 'never',\n        canAskAgain: false,\n        granted: true,\n      };\n    case 'denied':\n      return {\n        status: PermissionStatus.DENIED,\n        expires: 'never',\n        canAskAgain: false,\n        granted: false,\n      };\n    default:\n      return {\n        status: PermissionStatus.UNDETERMINED,\n        expires: 'never',\n        canAskAgain: true,\n        granted: false,\n      };\n  }\n}\n\nasync function resolvePermissionAsync({\n  shouldAsk,\n}: {\n  shouldAsk: boolean;\n}): Promise<NotificationPermissionsStatus> {\n  if (!Platform.isDOMAvailable) {\n    return convertPermissionStatus('denied');\n  }\n\n  const { Notification = {} } = window as any;\n  if (typeof Notification.requestPermission !== 'undefined') {\n    let status = Notification.permission;\n    if (shouldAsk) {\n      status = await new Promise((resolve, reject) => {\n        let resolved = false;\n        function resolveOnce(status: string) {\n          if (!resolved) {\n            resolved = true;\n            resolve(status);\n          }\n        }\n        // Some browsers require a callback argument and some return a Promise\n        Notification.requestPermission(resolveOnce)?.then(resolveOnce)?.catch(reject);\n      });\n    }\n    return convertPermissionStatus(status);\n  } else if (typeof navigator !== 'undefined' && navigator?.permissions?.query) {\n    // TODO(Bacon): Support `push` in the future when it's stable.\n    const query = await navigator.permissions.query({ name: 'notifications' });\n    return convertPermissionStatus(query.state);\n  }\n  // Platforms like iOS Safari don't support Notifications so return denied.\n  return convertPermissionStatus('denied');\n}\n\nexport default {\n  addListener: () => {},\n  removeListeners: () => {},\n  async getPermissionsAsync(): Promise<NotificationPermissionsStatus> {\n    return resolvePermissionAsync({ shouldAsk: false });\n  },\n  async requestPermissionsAsync(\n    request: NativeNotificationPermissionsRequest\n  ): Promise<NotificationPermissionsStatus> {\n    return resolvePermissionAsync({ shouldAsk: true });\n  },\n} as NotificationPermissionsModule;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}